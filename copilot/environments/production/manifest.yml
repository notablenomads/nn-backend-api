# The manifest for the "production" environment.
# Read the full specification for the "Environment" type at:
#  https://aws.github.io/copilot-cli/docs/manifest/environment/

# Your environment name will be used in naming your resources like VPC, cluster, etc.
name: production
type: Environment

# Minimal network configuration with single AZ
network:
  vpc:
    public:
      - cidr: 10.0.0.0/24
        az: a
    private:
      - cidr: 10.0.2.0/24
        az: a

# Load balancer configuration
http:
  public:
    ingress:
      vpc: true
    access_logs: false
    idle_timeout: 60

# Minimal observability settings
observability:
  container_insights: false
  container_logs:
    retention: 7
    encryption: false

# Use Fargate Spot for cost savings
capacity_providers:
  fargate_spot: 100
